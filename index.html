<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oseti æ—¥æœ¬èªæ„Ÿæƒ…åˆ†æãƒ„ãƒ¼ãƒ«</title>
    <script src="https://cdn.jsdelivr.net/npm/kuromoji@0.1.2/build/kuromoji.min.js"></script>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
        }
        
        h1 {
            color: #667eea;
            margin-top: 0;
            font-size: 2.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        h2 {
            color: #4a5568;
            margin-top: 30px;
            font-size: 1.5em;
        }
        
        h3 {
            color: #4a5568;
            font-size: 1.2em;
        }
        
        .section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .section:last-child {
            border-bottom: none;
        }
        
        .info-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 4px solid #667eea;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .info-box h3 {
            margin-top: 0;
            color: #667eea;
        }
        
        .info-box p {
            margin-bottom: 10px;
        }
        
        .info-box ul {
            margin: 10px 0;
        }
        
        .success-box {
            background: linear-gradient(135deg, #48bb7815 0%, #38a16915 100%);
            border-left: 4px solid #48bb78;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .success-box h3 {
            margin-top: 0;
            color: #48bb78;
        }
        
        .file-upload {
            border: 3px dashed #cbd5e0;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            background-color: #f8fafc;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .file-upload:hover {
            border-color: #667eea;
            background-color: #eef2ff;
            transform: translateY(-2px);
        }
        
        .file-upload.loaded {
            border-color: #48bb78;
            background-color: #f0fff4;
        }
        
        .file-upload-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .lexicon-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            padding: 20px;
            border-radius: 12px;
            background: linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
            border: 2px solid #e2e8f0;
            text-align: center;
            transition: transform 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card h3 {
            margin: 0 0 10px 0;
            font-size: 14px;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #667eea;
        }
        
        textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 16px;
            resize: vertical;
            font-family: inherit;
            transition: border-color 0.2s;
            box-sizing: border-box;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            box-shadow: none;
            opacity: 0.6;
        }
        
        .sample-btn {
            background: linear-gradient(135deg, #718096 0%, #4a5568 100%);
            padding: 10px 16px;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        .load-sample-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            box-shadow: 0 4px 12px rgba(72, 187, 120, 0.4);
        }
        
        .result {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 30px;
            margin-top: 30px;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        }
        
        .sentiment-meter {
            width: 100%;
            height: 32px;
            background: linear-gradient(90deg, #fc8181 0%, #718096 50%, #48bb78 100%);
            border-radius: 16px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .sentiment-indicator {
            position: absolute;
            top: -8px;
            width: 4px;
            height: 48px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            transition: left 0.5s ease;
        }
        
        .sentiment-scale {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 25px;
            font-weight: 500;
        }
        
        .sentiment-label {
            display: inline-block;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .stat-box {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            background-color: #f8fafc;
        }
        
        .stat-box p:first-child {
            font-weight: 500;
            margin-bottom: 8px;
            margin-top: 0;
            color: #718096;
            font-size: 14px;
        }
        
        .stat-box p:last-child {
            font-size: 28px;
            font-weight: 700;
            margin: 0;
        }
        
        .highlight-container {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            background-color: #ffffff;
            margin-top: 20px;
            line-height: 2;
            font-size: 18px;
        }
        
        .highlight-word {
            display: inline-block;
            padding: 3px 8px;
            margin: 0 2px;
            border-radius: 6px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        
        .highlight-word:hover {
            transform: scale(1.1);
        }
        
        .notification {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .notification.success {
            background-color: #f0fff4;
            color: #276749;
            border: 2px solid #48bb78;
        }
        
        .notification.error {
            background-color: #fff5f5;
            color: #c53030;
            border: 2px solid #fc8181;
        }
        
        .notification.info {
            background-color: #eef2ff;
            color: #4c51bf;
            border: 2px solid #667eea;
        }
        
        .hidden {
            display: none;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
            color: #718096;
        }
        
        .tab:hover {
            color: #667eea;
            background-color: #eef2ff;
        }
        
        .tab.active {
            border-bottom: 3px solid #667eea;
            color: #667eea;
            font-weight: 600;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .word-list {
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            background-color: white;
        }
        
        .word-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-bottom: 1px solid #e2e8f0;
            transition: background-color 0.2s;
        }
        
        .word-item:hover {
            background-color: #f8fafc;
        }
        
        .word-item:last-child {
            border-bottom: none;
        }
        
        .score-badge {
            padding: 6px 12px;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .format-example {
            background-color: #2d3748;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin-top: 10px;
            font-size: 14px;
        }
        
        input[type="text"] {
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-content {
            background: white;
            padding: 40px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .spinner {
            border: 4px solid #e2e8f0;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background-color: #f8fafc;
            border-radius: 8px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #cbd5e0;
            transition: 0.4s;
            border-radius: 24px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: #667eea;
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        .credit-toggle {
            padding: 15px;
            background: linear-gradient(135deg, #f8fafc 0%, #eef2ff 100%);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .credit-toggle:hover {
            background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
        }
        
        .credit-content {
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            max-height: 0;
        }
        
        .credit-content.show {
            max-height: 2000px;
        }

        .sentence-box {
            background-color: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .feature-section {
            background-color: white;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }
        
        .feature-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .feature-examples {
            color: #4a5568;
            font-size: 14px;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3>å½¢æ…‹ç´ è§£æå™¨ã‚’åˆæœŸåŒ–ä¸­...</h3>
            <p>Kuromojiè¾æ›¸ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™</p>
        </div>
    </div>

    <div class="container">
        <h1>
            <span style="font-size: 1.2em;">ğŸ“Š</span>
            Osetiæº–æ‹  æ—¥æœ¬èªæ„Ÿæƒ…åˆ†æãƒ„ãƒ¼ãƒ« / Oseti-based Japanese Sentiment Analyzer
        </h1>
        
        <div id="kuromoji-status" class="hidden"></div>
        
        <div class="info-box">
            <h3>ğŸ¯ ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦ / About This Tool</h3>
            <p>ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã®æ„Ÿæƒ…æ¥µæ€§ï¼ˆãƒã‚¸ãƒ†ã‚£ãƒ–/ãƒã‚¬ãƒ†ã‚£ãƒ–ï¼‰ã‚’åˆ†æã™ã‚‹Webãƒ™ãƒ¼ã‚¹ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<strong>Osetiãƒ©ã‚¤ãƒ–ãƒ©ãƒª</strong>ï¼ˆæ± ä¸Šæœ‰å¸Œä¹ƒæ°é–‹ç™ºã®Pythonç”¨æ„Ÿæƒ…åˆ†æãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã®è€ƒãˆæ–¹ã«æº–æ‹ ã—ã€æ±åŒ—å¤§å­¦ã®æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
            <p style="color: #718096; font-size: 14px;">This is a web-based tool for analyzing sentiment polarity (positive/negative) of Japanese text, based on the <strong>Oseti library</strong> approach (a Python sentiment analysis library developed by Yukino Ikegami) and using the Japanese Sentiment Polarity Dictionary from Tohoku University.</p>
            <p style="margin-top: 15px; margin-bottom: 5px;"><strong>ä¸»ãªæ©Ÿèƒ½ / Key Features:</strong></p>
            <ul>
                <li>å„å˜èªã«<strong>-1.0ï¼ˆæœ€ã‚‚ãƒã‚¬ãƒ†ã‚£ãƒ–ï¼‰ã‹ã‚‰+1.0ï¼ˆæœ€ã‚‚ãƒã‚¸ãƒ†ã‚£ãƒ–ï¼‰</strong>ã®ã‚¹ã‚³ã‚¢ã‚’ä»˜ä¸<br>
                <span style="color: #718096; font-size: 13px;">Assigns scores from <strong>-1.0 (most negative) to +1.0 (most positive)</strong> to each word</span></li>
                <li>ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã®æ„Ÿæƒ…ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã—ã€ç·åˆçš„ãªæ„Ÿæƒ…ã‚’åˆ¤å®š<br>
                <span style="color: #718096; font-size: 13px;">Calculates overall sentiment score and determines general sentiment</span></li>
                <li><strong>Kuromojiå½¢æ…‹ç´ è§£æå™¨</strong>ï¼ˆIPAdicè¾æ›¸ä½¿ç”¨ï¼‰ã«ã‚ˆã‚‹å®Ÿç”¨çš„ãªå˜èªåˆ†å‰²<br>
                <span style="color: #718096; font-size: 13px;">Practical word segmentation using <strong>Kuromoji morphological analyzer</strong> (with IPAdic dictionary)</span></li>
                <li><strong>æ–‡ã”ã¨ã®åˆ†æ</strong>ã«å¯¾å¿œã—ã€æ„Ÿæƒ…ã®å¤‰åŒ–ã‚’è¿½è·¡å¯èƒ½<br>
                <span style="color: #718096; font-size: 13px;">Supports <strong>sentence-by-sentence analysis</strong> to track sentiment changes</span></li>
                <li><strong>âœ¨ å¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡º</strong>ï¼ˆæ‹¡å¼µæ©Ÿèƒ½ï¼‰<br>
                <span style="color: #718096; font-size: 13px;">âœ¨ <strong>Backward & parallel negation detection</strong> (extended feature)</span></li>
                <li>ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ†æã€SNSåˆ†æã€é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åˆ†æãªã©ã«æ´»ç”¨å¯èƒ½<br>
                <span style="color: #718096; font-size: 13px;">Applicable for review analysis, social media analysis, customer feedback analysis, etc.</span></li>
            </ul>
        </div>
        
        <div class="section">
            <h2>1ï¸âƒ£ è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ãƒ‰ / Load Dictionary File</h2>
            
            <div style="margin-bottom: 20px;">
                <button id="load-sample-btn" class="load-sample-btn">
                    âœ¨ ã‚µãƒ³ãƒ—ãƒ«è¾æ›¸ã§è©¦ã™ / Try with Sample Dictionary (41èªåéŒ² / 41 words)
                </button>
            </div>
            
            <div class="tabs" style="margin-bottom: 0;">
                <div class="tab active" data-load-tab="file">ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ / From File</div>
                <div class="tab" data-load-tab="paste">ğŸ“ ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ / From Text</div>
            </div>
            
            <div id="file-upload-tab" class="tab-content" style="display: block;">
                <div id="file-upload" class="file-upload">
                    <div class="file-upload-icon">ğŸ“„</div>
                    <p style="font-size: 18px; font-weight: 500;">Osetiè¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—</p>
                    <p style="font-size: 14px; color: #718096;">Drop Oseti dictionary file here</p>
                    <p style="color: #718096;">ã¾ãŸã¯ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ / Or click to select file</p>
                    <input type="file" id="lexicon-file" accept=".txt,.csv" style="display: none;">
                </div>
            </div>
            
            <div id="paste-upload-tab" class="tab-content" style="display: none; padding: 20px; background-color: #f8fafc; border-radius: 0 0 12px 12px;">
                <p style="margin-top: 0;">è¾æ›¸ã®å†…å®¹ã‚’ç›´æ¥è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„(å½¢å¼: å˜èª TAB ã‚¹ã‚³ã‚¢)</p>
                <p style="margin-top: 0; font-size: 13px; color: #718096;">Paste dictionary content directly (format: word TAB score)</p>
                <textarea id="paste-input" placeholder="ä¾‹ / Example:
æ¥½ã—ã„	1.0
æ‚²ã—ã„	-1.0
å¬‰ã—ã„	1.0
è¾›ã„	-1.0
æ™®é€š	0.0" style="min-height: 200px; font-family: monospace;"></textarea>
                <button id="load-paste-btn">ğŸ“¥ è¾æ›¸ã‚’ãƒ­ãƒ¼ãƒ‰ / Load Dictionary</button>
            </div>
            
            <div id="lexicon-stats" class="lexicon-stats hidden"></div>
        </div>
        
        <div id="analysis-section" class="section hidden">
            <h2>2ï¸âƒ£ ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ†æ / Analyze Text</h2>
            
            <div class="info-box" style="background: linear-gradient(135deg, #fbbf2415 0%, #f5931815 100%); border-left: 4px solid #fbbf24;">
                <h3 style="color: #fbbf24;">âš ï¸ æ‹¡å¼µæ©Ÿèƒ½ã«ã¤ã„ã¦ / About Extended Features</h3>
                <p style="font-size: 14px; margin: 10px 0;">
                    æœ¬ãƒ„ãƒ¼ãƒ«ã¯<strong>å…ƒã®osetiãƒ©ã‚¤ãƒ–ãƒ©ãƒª</strong>ã«åŠ ãˆã¦ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’è¿½åŠ å®Ÿè£…ã—ã¦ã„ã¾ã™:<br>
                    <span style="color: #718096; font-size: 13px;">This tool implements the following features in addition to the <strong>original oseti library</strong>:</span>
                </p>
                <div class="feature-section">
                    <div class="feature-title">ã€å¾Œæ–¹å¦å®š / Backward Negationã€‘</div>
                    <div class="feature-examples">
                        <strong>å…ƒã®oseti / Original oseti:</strong> å‰æ–¹å¦å®šã®ã¿å¯¾å¿œ(ä¾‹:ã€Œãªã„ æ¥½ã—ã„ã€â†’ æ¤œå‡º) / Forward negation only<br>
                        <strong>æœ¬ãƒ„ãƒ¼ãƒ« / This tool:</strong> å¾Œæ–¹å¦å®šã‚‚æ¤œå‡ºå¯èƒ½(ä¸‹è¨˜ãƒˆã‚°ãƒ«ã§ON/OFFå¯èƒ½) / Also supports backward negation (toggle below)<br>
                        <strong>å¯¾å¿œä¾‹ / Examples:</strong> ã€Œæ¥½ã—ããªã„ã€ã€Œè‰¯ããªã„ã€ã€ŒãŠé‡‘ãŒãªã„ã€ã€Œå¸Œæœ›ã¯ãªã„ã€ã€ŒæœŸå¾…ã§ããªã„ã€ã€Œæº€è¶³ã§ããªã„ã€
                    </div>
                </div>
                <div class="feature-section" style="margin-top: 10px;">
                    <div class="feature-title">ã€ä¸¦åˆ—å¦å®š / Parallel Negationã€‘</div>
                    <div class="feature-examples">
                        è¤‡æ•°ã®æ„Ÿæƒ…èªãŒä¸¦åˆ—åŠ©è©ã§ç¹‹ãŒã‚ŒãŸå¦å®šè¡¨ç¾ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚<br>
                        <span style="color: #718096; font-size: 13px;">Supports negation patterns with multiple emotion words connected by parallel particles.</span><br>
                        <strong>å¯¾å¿œä¾‹ / Examples:</strong> ã€ŒãŠé‡‘ã‚‚å¸Œæœ›ã‚‚ãªã„ã€ã€Œé›°å›²æ°—ã‚‚æ–™ç†ã‚‚è‰¯ããªã„ã€ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚‚æœŸå¾…ã§ããªã„ã€ã€Œå€¤æ®µã‚‚é…é€ã‚‚æº€è¶³ã§ããªã„ã€
                    </div>
                </div>
                <p style="font-size: 13px; color: #4a5568; margin: 15px 0 5px 0;">
                    ç ”ç©¶ã§ä½¿ç”¨ã™ã‚‹éš›ã¯ã€ã“ã®æ‹¡å¼µæ©Ÿèƒ½ï¼ˆå¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡ºï¼‰ã‚’ä½¿ç”¨ã—ãŸã“ã¨ã‚’è«–æ–‡ã«æ˜è¨˜ã—ã¦ãã ã•ã„ã€‚<br>
                    <span style="color: #718096; font-size: 12px;">When using in research, please specify in your paper that these extended features (backward & parallel negation detection) were used.</span>
                </p>
            </div>
            
            <div class="toggle-container">
                <label class="toggle-switch">
                    <input type="checkbox" id="use-kuromoji" checked>
                    <span class="toggle-slider"></span>
                </label>
                <label for="use-kuromoji" style="cursor: pointer; font-weight: 500;">
                    ğŸ”¬ Kuromojiå½¢æ…‹ç´ è§£æã‚’ä½¿ç”¨(æ¨å¥¨) / Use Kuromoji Morphological Analyzer (Recommended)
                </label>
            </div>
            
            <div class="toggle-container" style="background: linear-gradient(135deg, #fbbf2410 0%, #f5931810 100%);">
                <label class="toggle-switch">
                    <input type="checkbox" id="backward-negation" checked>
                    <span class="toggle-slider"></span>
                </label>
                <label for="backward-negation" style="cursor: pointer; font-weight: 500;">
                    âœ¨ å¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šã®æ¤œå‡ºã‚’æœ‰åŠ¹åŒ–(æ‹¡å¼µæ©Ÿèƒ½) / Enable Backward & Parallel Negation Detection (Extended Feature)
                </label>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="analyze">ğŸ“ åˆ†æ / Analyze</div>
                <div class="tab" data-tab="words">ğŸ“š è¾æ›¸ä¸€è¦§ / Dictionary</div>
            </div>
            
            <div id="analyze-tab" class="tab-content active">
                <h3>åˆ†æã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ› / Enter text to analyze:</h3>
                <textarea id="text-input" placeholder="åˆ†æã—ãŸã„æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã‚’ã“ã“ã«å…¥åŠ›ã—ã¦ãã ã•ã„... / Enter Japanese text here..."></textarea>
                <button id="analyze-btn">ğŸš€ åˆ†æé–‹å§‹ / Start Analysis</button>
                
                <div style="margin-top: 20px;">
                    <h3>ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ / Sample Text:</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        <button class="sample-btn">ä»Šæ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆã¯æœ€é«˜ã ã£ãŸã€‚æ–™ç†ã‚‚éŸ³æ¥½ã‚‚ç´ æ™´ã‚‰ã—ã‹ã£ãŸ!</button>
                        <button class="sample-btn">ã“ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã¯é›°å›²æ°—ã‚‚æ–™ç†ã‚‚è‰¯ããªã„ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã‚‚æœŸå¾…ã§ããªã„ã€‚</button>
                        <button class="sample-btn">æ˜ ç”»ã¯é¢ç™½ã‹ã£ãŸã€‚ã§ã‚‚éŸ³æ¥½ã‚‚æ¼”æŠ€ã‚‚è‰¯ããªã‹ã£ãŸã€‚</button>
                        <button class="sample-btn">æ˜¨æ—¥ã®ä¼šè­°ã¯æ¥½ã—ããªã‹ã£ãŸã€‚æ™‚é–“ã‚‚åŠ´åŠ›ã‚‚ç„¡é§„ã ã£ãŸã€‚</button>
                        <button class="sample-btn">å•†å“ã®è³ªã¯æ‚ªããªã„ã€‚ã—ã‹ã—å€¤æ®µã‚‚é…é€ã‚‚æº€è¶³ã§ããªã„ã€‚</button>
                    </div>
                </div>
                
                <div id="result-container" class="result hidden"></div>
            </div>
            
            <div id="words-tab" class="tab-content">
                <h3>è¾æ›¸ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹å˜èª / Registered Words in Dictionary:</h3>
                <input type="text" id="word-search" placeholder="ğŸ” å˜èªã‚’æ¤œç´¢... / Search words..." style="width: 100%; margin-bottom: 15px;">
                <div id="word-list" class="word-list"></div>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ“– ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãƒ»å¼•ç”¨æƒ…å ± / Credits & Citations</h2>
            
            <div style="background-color: #f8fafc; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea; margin-bottom: 20px;">
                <p style="margin: 10px 0;"><strong>Â© 2025 Nozomi Sawada</strong></p>
                <p style="margin: 10px 0; font-size: 14px;">
                    ã“ã®ãƒ„ãƒ¼ãƒ«ã¯<strong>æ±åŒ—å¤§å­¦ã®æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸(å°æ—ã‚‰, 2005; æ±å±±ã‚‰, 2008)</strong>ãŠã‚ˆã³<strong>Kuromojiå½¢æ…‹ç´ è§£æå™¨(Apache License 2.0)</strong>ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
                </p>
                <p style="margin: 10px 0; font-size: 14px; color: #718096;">
                    This tool uses the <strong>Japanese Sentiment Polarity Dictionary (Tohoku University)</strong> and <strong>Kuromoji morphological analyzer (Apache License 2.0)</strong>.
                </p>
                <p style="margin: 10px 0; font-size: 13px; color: #4a5568;">
                    è©³ç´°ãªå¼•ç”¨æƒ…å ±ã¯ä¸‹è¨˜ã‚’ã”ç¢ºèªãã ã•ã„ã€‚<br>
                    <span style="color: #718096;">For detailed citation information, please see below.</span>
                </p>
            </div>
            
            <div class="credit-toggle" onclick="toggleCredits()">
                <h3 style="margin: 0; cursor: pointer; display: flex; align-items: center; justify-content: space-between;">
                    <span>ğŸ“š è©³ç´°ãªå¼•ç”¨æƒ…å ±ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ / Detailed Citations & License</span>
                    <span id="credit-arrow" style="transition: transform 0.3s;">â–¼</span>
                </h3>
            </div>
            <div id="credit-content" class="credit-content hidden">
                <div style="padding: 20px; background-color: #f8fafc; border-radius: 8px; margin-top: 10px;">
                    <h4 style="color: #667eea; margin-top: 0;">ãƒ„ãƒ¼ãƒ«é–‹ç™º / Tool Development</h4>
                    <p style="margin: 10px 0; font-size: 14px;">
                        é–‹ç™ºè€… / Developer: Nozomi Sawada (2025)
                    </p>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;">
                            ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ç ”ç©¶ãƒ»æ•™è‚²ç›®çš„ã§é–‹ç™ºã•ã‚Œã¾ã—ãŸã€‚<br>
                            ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€æœ¬ãƒ„ãƒ¼ãƒ«ã¨ä½¿ç”¨ã—ã¦ã„ã‚‹è¾æ›¸(ä¸‹è¨˜)ã®ä¸¡æ–¹ã‚’é©åˆ‡ã«å¼•ç”¨ã—ã¦ãã ã•ã„ã€‚
                        </p>
                        <p style="margin: 10px 0; font-size: 13px; color: #718096;">
                            This tool was developed for research and educational purposes.<br>
                            When using it, please cite both this tool and the dictionaries used (see below).
                        </p>
                    </div>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #48bb78; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;"><strong>ğŸ“„ è«–æ–‡ã§ã®å¼•ç”¨ä¾‹ / Citation Examples in Papers:</strong></p>
                        <p style="margin: 10px 0; font-size: 13px; color: #4a5568;">
                            <strong>æ—¥æœ¬èª / Japanese:</strong><br>
                            ã€Œæ„Ÿæƒ…åˆ†æã«ã¯ã€Sawada (2025) ãŒé–‹ç™ºã—ãŸOsetiæº–æ‹ æ—¥æœ¬èªæ„Ÿæƒ…åˆ†æãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã€
                            æ±åŒ—å¤§å­¦ã®æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ (å°æ—ã‚‰, 2005; æ±å±±ã‚‰, 2008) ãŠã‚ˆã³Kuromojiå½¢æ…‹ç´ è§£æå™¨ã‚’ç”¨ã„ãŸã€‚
                            <span style="color: #fbbf24;">å¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡ºã®æ‹¡å¼µæ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã—ã¦åˆ†æã‚’è¡Œã£ãŸã€‚</span>ã€
                        </p>
                        <p style="margin: 10px 0; font-size: 13px; color: #4a5568;">
                            <strong>English:</strong><br>
                            "For sentiment analysis, we used the Oseti-based Japanese Sentiment Analysis Tool developed by Sawada (2025), 
                            employing the Japanese Sentiment Polarity Dictionary from Tohoku University (Kobayashi et al., 2005; Higashiyama et al., 2008) 
                            and the Kuromoji morphological analyzer. 
                            <span style="color: #fbbf24;">The extended features for backward and parallel negation detection were enabled.</span>"
                        </p>
                    </div>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;"><strong>ğŸ“š å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆ / References:</strong></p>
                        <p style="margin: 10px 0; font-size: 12px; color: #4a5568; font-family: monospace; line-height: 1.8;">
                            <strong>ã“ã®ãƒ„ãƒ¼ãƒ« / This Tool:</strong><br>
                            Sawada, N. (2025). Oseti-based Japanese Sentiment Analysis Tool [Web application]. GitHub. https://github.com/nozomi-sawada/oseti-sentiment-analyzer
                        </p>
                        <p style="margin: 10px 0; font-size: 12px; color: #4a5568; font-family: monospace; line-height: 1.8;">
                            <strong>è¾æ›¸ / Dictionary:</strong><br>
                            å°æ—ã®ãã¿, ä¹¾å¥å¤ªéƒ, æ¾æœ¬è£•æ²», ç«‹çŸ³å¥äºŒ, ç¦å³¶ä¿Šä¸€ (2005). æ„è¦‹æŠ½å‡ºã®ãŸã‚ã®è©•ä¾¡è¡¨ç¾ã®åé›†. è‡ªç„¶è¨€èªå‡¦ç†, 12(3), 203-222.<br>
                            Kobayashi, N., Inui, K., Matsumoto, Y., Tateishi, K., & Fukushima, S. (2005). Collecting Evaluative Expressions for Opinion Extraction. Journal of Natural Language Processing, 12(3), 203-222.
                        </p>
                        <p style="margin: 10px 0; font-size: 12px; color: #4a5568; font-family: monospace; line-height: 1.8;">
                            æ±å±±æ˜Œå½¦, ä¹¾å¥å¤ªéƒ, æ¾æœ¬è£•æ²» (2008). è¿°èªã®é¸æŠé¸å¥½æ€§ã«ç€ç›®ã—ãŸåè©è©•ä¾¡æ¥µæ€§ã®ç²å¾—. è¨€èªå‡¦ç†å­¦ä¼šç¬¬14å›å¹´æ¬¡å¤§ä¼šè«–æ–‡é›†, 584-587.<br>
                            Higashiyama, M., Inui, K., & Matsumoto, Y. (2008). Learning Sentiment of Nouns from Selectional Preferences of Verbs and Adjectives. Proceedings of the 14th Annual Meeting of the Association for Natural Language Processing, 584-587.
                        </p>
                    </div>
                    
                    <h4 style="color: #667eea; margin-top: 25px;">æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ / Japanese Sentiment Polarity Dictionary</h4>
                    <p style="margin: 10px 0;">ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€æ±åŒ—å¤§å­¦ ä¹¾ãƒ»å²¡å´ç ”ç©¶å®¤ãŒå…¬é–‹ã—ã¦ã„ã‚‹æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p style="margin: 10px 0; font-size: 13px; color: #718096;">This tool uses the Japanese Sentiment Polarity Dictionary published by Tohoku University.</p>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #667eea; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;"><strong>å¼•ç”¨æ–‡çŒ® / References:</strong></p>
                        <p style="margin: 10px 0 5px 0; font-size: 13px; line-height: 1.8;">
                            <strong>[1]</strong> å°æ—ã®ãã¿, ä¹¾å¥å¤ªéƒ, æ¾æœ¬è£•æ²», ç«‹çŸ³å¥äºŒ, ç¦å³¶ä¿Šä¸€. æ„è¦‹æŠ½å‡ºã®ãŸã‚ã®è©•ä¾¡è¡¨ç¾ã®åé›†. è‡ªç„¶è¨€èªå‡¦ç†, Vol.12, No.3, pp.203-222, 2005.<br>
                            <span style="color: #718096; font-size: 12px;">Kobayashi, N., Inui, K., Matsumoto, Y., Tateishi, K., & Fukushima, S. (2005). Collecting Evaluative Expressions for Opinion Extraction. Journal of Natural Language Processing, 12(3), 203-222.</span>
                        </p>
                        <p style="margin: 10px 0 5px 0; font-size: 13px; line-height: 1.8;">
                            <strong>[2]</strong> æ±å±±æ˜Œå½¦, ä¹¾å¥å¤ªéƒ, æ¾æœ¬è£•æ²». è¿°èªã®é¸æŠé¸å¥½æ€§ã«ç€ç›®ã—ãŸåè©è©•ä¾¡æ¥µæ€§ã®ç²å¾—. è¨€èªå‡¦ç†å­¦ä¼šç¬¬14å›å¹´æ¬¡å¤§ä¼šè«–æ–‡é›†, pp.584-587, 2008.<br>
                            <span style="color: #718096; font-size: 12px;">Higashiyama, M., Inui, K., & Matsumoto, Y. (2008). Learning Sentiment of Nouns from Selectional Preferences of Verbs and Adjectives. Proceedings of the 14th Annual Meeting of the Association for Natural Language Processing, 584-587.</span>
                        </p>
                    </div>
                    <p style="margin: 10px 0; font-size: 14px;">
                        <strong>å‡ºå…¸ / Source:</strong> 
                        <a href="http://www.cl.ecei.tohoku.ac.jp/Open_Resources-Japanese_Sentiment_Polarity_Dictionary.html" target="_blank" style="color: #667eea;">
                            æ±åŒ—å¤§å­¦ ä¹¾ãƒ»å²¡å´ç ”ç©¶å®¤ / Tohoku University Inui-Okazaki Lab
                        </a>
                    </p>
                    
                    <h4 style="color: #667eea; margin-top: 25px;">å½¢æ…‹ç´ è§£æå™¨ / Morphological Analyzer</h4>
                    <p style="margin: 10px 0;">å½¢æ…‹ç´ è§£æã«ã¯ã€Kuromoji.js(Apache License 2.0)ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p style="margin: 10px 0; font-size: 13px; color: #718096;">This tool uses Kuromoji.js (Apache License 2.0) for morphological analysis.</p>
                    <p style="margin: 10px 0; font-size: 14px;">
                        <strong>é–‹ç™º / Developer:</strong> Atilika (Apache Software Foundation)
                    </p>
                    <p style="margin: 10px 0; font-size: 14px;">
                        <strong>ãƒªãƒã‚¸ãƒˆãƒª / Repository:</strong> 
                        <a href="https://github.com/takuyaa/kuromoji.js" target="_blank" style="color: #667eea;">
                            kuromoji.js on GitHub
                        </a>
                    </p>
                    
                    <h4 style="color: #667eea; margin-top: 25px;">Osetiãƒ©ã‚¤ãƒ–ãƒ©ãƒª / Oseti Library</h4>
                    <p style="margin: 10px 0;">æ„Ÿæƒ…åˆ†æã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã¯ã€æ± ä¸Šæœ‰å¸Œä¹ƒæ°ã®osetiãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚</p>
                    <p style="margin: 10px 0; font-size: 13px; color: #718096;">The sentiment analysis algorithm implementation is based on the oseti library by Yukino Ikegami.</p>
                    <p style="margin: 10px 0; font-size: 14px;">
                        <strong>ãƒªãƒã‚¸ãƒˆãƒª / Repository:</strong> 
                        <a href="https://github.com/ikegami-yukino/oseti" target="_blank" style="color: #667eea;">
                            oseti on GitHub
                        </a>
                    </p>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #fbbf24; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;"><strong>âš ï¸ æ‹¡å¼µæ©Ÿèƒ½ã«ã¤ã„ã¦ / About Extended Features</strong></p>
                        <p style="margin: 10px 0; font-size: 13px;">
                            æœ¬ãƒ„ãƒ¼ãƒ«ã®<strong>ã€Œå¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡ºã€æ©Ÿèƒ½</strong>ã¯ã€å…ƒã®osetiãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯å«ã¾ã‚Œãªã„ç‹¬è‡ªã®æ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚
                        </p>
                        <div class="feature-section" style="margin: 10px 0;">
                            <div class="feature-title">ã€å¾Œæ–¹å¦å®šã€‘</div>
                            <div class="feature-examples" style="font-size: 13px;">
                                å…ƒã®osetiã¯å‰æ–¹å¦å®š(ã€Œãªã„ æ¥½ã—ã„ã€)ã®ã¿å¯¾å¿œã—ã¦ã„ã¾ã™ãŒã€æœ¬ãƒ„ãƒ¼ãƒ«ã§ã¯å¾Œæ–¹å¦å®šã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚<br>
                                <strong>å¯¾å¿œä¾‹:</strong> ã€Œæ¥½ã—ããªã„ã€ã€Œè‰¯ããªã„ã€ã€ŒãŠé‡‘ãŒãªã„ã€ã€Œå¸Œæœ›ã¯ãªã„ã€ã€ŒæœŸå¾…ã§ããªã„ã€ã€Œæº€è¶³ã§ããªã„ã€
                            </div>
                        </div>
                        <div class="feature-section" style="margin: 10px 0;">
                            <div class="feature-title">ã€ä¸¦åˆ—å¦å®šã€‘</div>
                            <div class="feature-examples" style="font-size: 13px;">
                                è¤‡æ•°ã®æ„Ÿæƒ…èªãŒä¸¦åˆ—åŠ©è©ã§ç¹‹ãŒã‚ŒãŸå¦å®šè¡¨ç¾ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚<br>
                                <strong>å¯¾å¿œä¾‹:</strong> ã€ŒãŠé‡‘ã‚‚å¸Œæœ›ã‚‚ãªã„ã€ã€Œé›°å›²æ°—ã‚‚æ–™ç†ã‚‚è‰¯ããªã„ã€ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚‚æœŸå¾…ã§ããªã„ã€ã€Œå€¤æ®µã‚‚é…é€ã‚‚æº€è¶³ã§ããªã„ã€
                            </div>
                        </div>
                        <p style="margin: 10px 0; font-size: 13px;">
                            ç ”ç©¶ã§ä½¿ç”¨ã™ã‚‹éš›ã¯ã€ã“ã®æ‹¡å¼µæ©Ÿèƒ½ï¼ˆå¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡ºï¼‰ã‚’ä½¿ç”¨ã—ãŸã“ã¨ã‚’å¿…ãšæ˜è¨˜ã—ã¦ãã ã•ã„ã€‚
                        </p>
                        <p style="margin: 10px 0; font-size: 12px; color: #718096;">
                            The <strong>"backward & parallel negation detection"</strong> features are original extensions not included in the original oseti library.<br>
                            The original oseti only supports forward negation, but this tool also supports backward negation (e.g., "not fun", "not good", "cannot expect", "cannot satisfy") and parallel negation (e.g., "no money or hope", "neither atmosphere nor food is good", "neither service nor expectation can be met").<br>
                            When using in research, please specify that these extended features were used.
                        </p>
                    </div>
                    
                    <h4 style="color: #667eea; margin-top: 25px;">ğŸ“‚ è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™æ–¹æ³• / How to Prepare Dictionary Files</h4>
                    <p style="margin: 10px 0;">
                        ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ã‹ã‚‰å¤‰æ›ã—ãŸè¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™ã€‚
                    </p>
                    <p style="margin: 10px 0; font-size: 13px; color: #718096;">
                        To use this tool, you need a dictionary file converted from the Japanese Sentiment Polarity Dictionary.
                    </p>
                    <div style="background-color: white; padding: 15px; border-radius: 6px; border-left: 4px solid #fbbf24; margin: 15px 0;">
                        <p style="margin: 5px 0; font-size: 14px;"><strong>âš ï¸ é‡è¦ / Important: è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã”è‡ªèº«ã§æº–å‚™ã—ã¦ãã ã•ã„ / Please prepare the dictionary file yourself</strong></p>
                        <p style="margin: 10px 0; font-size: 13px;">
                            ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®éƒ½åˆä¸Šã€è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«æœ¬ä½“ã¯é…å¸ƒã—ã¦ã„ã¾ã›ã‚“ã€‚<br>
                            ä»¥ä¸‹ã®æ‰‹é †ã§è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„:
                        </p>
                        <p style="margin: 10px 0; font-size: 12px; color: #718096;">
                            Due to license restrictions, the dictionary file itself is not distributed.<br>
                            Please create the dictionary file following these steps:
                        </p>
                    </div>
                    <p style="margin: 10px 0; font-size: 13px; color: #4a5568;">
                        <strong>ã€æ‰‹é † / Stepsã€‘</strong><br>
                        1. æ±åŒ—å¤§å­¦ã®ã‚µã‚¤ãƒˆã‹ã‚‰å…ƒã®è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ / Download the original dictionary files from Tohoku University<br>
                        ã€€ <a href="http://www.cl.ecei.tohoku.ac.jp/Open_Resources-Japanese_Sentiment_Polarity_Dictionary.html" 
                            target="_blank" style="color: #667eea;">æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ / Japanese Sentiment Polarity Dictionary</a><br>
                        ã€€ (<code>pn.csv.m3.120408.trim</code> ã¨ / and <code>wago.121808.pn</code>)<br><br>
                        2. å¤‰æ›æ–¹æ³•ã®è©³ç´°ã¯ã€GitHubãƒªãƒã‚¸ãƒˆãƒªã®READMEã‚’ã”è¦§ãã ã•ã„ / For conversion details, see the README in the GitHub repository<br><br>
                        3. ç”Ÿæˆã•ã‚ŒãŸ <code>japanese_sentiment_dictionary.txt</code> ã‚’æœ¬ãƒ„ãƒ¼ãƒ«ã§ä½¿ç”¨ / Use the generated file with this tool
                    </p>
                    <p style="margin: 10px 0; font-size: 13px; color: #4a5568;">
                        <strong>ã¾ãŸã¯ / Or:</strong><br>
                        æœ¬ãƒ„ãƒ¼ãƒ«ã®ã€ŒğŸ“ ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€ã‚¿ãƒ–ã§ã€Osetiå½¢å¼(å˜èª TAB ã‚¹ã‚³ã‚¢)ã®ç‹¬è‡ªè¾æ›¸ã‚’ç›´æ¥è²¼ã‚Šä»˜ã‘ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚<br>
                        <span style="color: #718096;">You can also paste your own dictionary in Oseti format (word TAB score) directly in the "From Text" tab.</span>
                    </p>
                    
                    <div style="background-color: #eef2ff; padding: 15px; border-radius: 6px; margin-top: 20px;">
                        <p style="margin: 0; font-size: 13px; color: #4a5568; line-height: 1.8;">
                            <strong>è«–æ–‡ç­‰ã§å¼•ç”¨ã™ã‚‹å ´åˆ / When citing in papers:</strong><br>
                            æœ¬ãƒ„ãƒ¼ãƒ«ã‚’å­¦è¡“ç ”ç©¶ã§ä½¿ç”¨ã•ã‚Œã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã‚’å¼•ç”¨ã—ã¦ãã ã•ã„ï¼š<br>
                            â€¢ æœ¬ãƒ„ãƒ¼ãƒ« (Sawada, 2025)<br>
                            â€¢ æ—¥æœ¬èªè©•ä¾¡æ¥µæ€§è¾æ›¸ã®ä¸¡æ–‡çŒ® (å°æ—ã‚‰, 2005; æ±å±±ã‚‰, 2008 / Kobayashi et al., 2005; Higashiyama et al., 2008)<br>
                            â€¢ æ‹¡å¼µæ©Ÿèƒ½ï¼ˆå¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡ºï¼‰ã‚’ä½¿ç”¨ã—ãŸã“ã¨ã‚’æ˜è¨˜<br>
                            <span style="color: #718096; font-size: 12px; display: block; margin-top: 8px;">
                            When using this tool for academic research, please cite:<br>
                            â€¢ This tool (Sawada, 2025)<br>
                            â€¢ Both papers of the Japanese Sentiment Polarity Dictionary (Kobayashi et al., 2005; Higashiyama et al., 2008)<br>
                            â€¢ Specify that the extended features (backward & parallel negation detection) were used
                            </span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let lexicon = {};
        let lexiconStats = { totalWords: 0 };
        let tokenizer = null;
        let tokenizerReady = false;
        
        const NEGATION_WORDS = [
            'ãªã„', 'ã¬', 'ã‚“', 'ãš', 'ã¾ã„', 'ã­ãˆ', 'ãªã‹ã£ãŸ', 'ãªã',
            'ãªã‘ã‚Œã°', 'ã–ã‚‹', 'ã¾ã›ã‚“ã§ã—ãŸ', 'ã¾ã›ã‚“', 'ãªã„ã§', 'ãš',
            'ã§ããªã„', 'ã§ãã¬', 'ã§ãã¾ã›ã‚“', 'ã‚‰ã‚Œãªã„', 'ã‚‰ã‚Œã¬'
        ];
        
        const NEGATION_PARTICLES = ['ã¯', 'ãã¯', 'ã§ã¯', 'ã˜ã‚ƒ', 'ãŒ', 'ã¯', 'ã‚‚'];
        
        const PARALLEL_PARTICLES = ['ã‚‚', 'ã¨', 'ã‚„', 'ã¨ã‹', 'ã ã®'];
        
        const SAMPLE_DICTIONARY = `æ¥½ã—ã„	1.0
å¬‰ã—ã„	1.0
å¹¸ã›	1.0
å¥½ã	1.0
ç´ æ™´ã‚‰ã—ã„	1.0
ç¾ã—ã„	1.0
è‰¯ã„	1.0
æœ€é«˜	1.0
ç´ æ•µ	1.0
æ„Ÿå‹•	1.0
å……å®Ÿ	1.0
é ‘å¼µã‚‹	1.0
ç¾å‘³ã—ã„	1.0
é¢ç™½ã„	1.0
æº€è¶³	1.0
é›°å›²æ°—	0.5
æ–™ç†	0.5
ã‚µãƒ¼ãƒ“ã‚¹	0.5
æœŸå¾…	0.5
éŸ³æ¥½	0.5
æ¼”æŠ€	0.5
è³ª	0.5
æ™‚é–“	0.0
åŠ´åŠ›	0.0
å€¤æ®µ	0.0
é…é€	0.0
æ‚²ã—ã„	-1.0
è‹¦ã—ã„	-1.0
è¾›ã„	-1.0
å«Œã„	-1.0
æœ€æ‚ª	-1.0
å¤±æ•—	-1.0
ä¸å¹¸	-1.0
æ®‹å¿µ	-1.0
å›°ã‚‹	-1.0
ç–²ã‚Œã‚‹	-1.0
æ‚ªã„	-1.0
é…åˆ»	-1.0
ç„¡é§„	-1.0
å¸Œæœ›	1.0
ãŠé‡‘	1.0`;
        
        let kuromojiLoaded = false;
        
        setTimeout(function() {
            if (!kuromojiLoaded) {
                console.warn('Kuromoji loading timeout');
                var overlay = document.getElementById('loading-overlay');
                if (overlay) overlay.remove();
                
                showNotification('å½¢æ…‹ç´ è§£æå™¨ã®èª­ã¿è¾¼ã¿ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã™ã€‚ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã§é–‹å§‹ã—ã¾ã™ã€‚', 'info');
                tokenizerReady = false;
                
                var statusBox = document.getElementById('kuromoji-status');
                statusBox.className = 'notification info';
                statusBox.innerHTML = '<strong>â„¹ï¸ ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ãƒ¢ãƒ¼ãƒ‰</strong><br>Kuromojiå½¢æ…‹ç´ è§£æå™¨ã®èª­ã¿è¾¼ã¿ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã¾ã™ã€‚ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã§å‹•ä½œã—ã¾ã™ã€‚';
                statusBox.classList.remove('hidden');
            }
        }, 10000);
        
        kuromoji.builder({ dicPath: "https://cdn.jsdelivr.net/npm/kuromoji@0.1.2/dict" }).build(function(err, _tokenizer) {
            kuromojiLoaded = true;
            var overlay = document.getElementById('loading-overlay');
            if (overlay) overlay.remove();
            
            if (err) {
                console.error('Kuromoji initialization error:', err);
                showNotification('å½¢æ…‹ç´ è§£æå™¨ã®åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒŠã‚¤ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚', 'error');
                tokenizerReady = false;
            } else {
                tokenizer = _tokenizer;
                tokenizerReady = true;
                
                var statusBox = document.getElementById('kuromoji-status');
                statusBox.className = 'success-box';
                statusBox.innerHTML = '<h3>âœ… Kuromojiå½¢æ…‹ç´ è§£æå™¨ãŒæº–å‚™å®Œäº† / Kuromoji Morphological Analyzer Ready</h3><p>Kuromojiå½¢æ…‹ç´ è§£æå™¨ï¼ˆIPAdicè¾æ›¸ä½¿ç”¨ï¼‰ã«ã‚ˆã‚‹å®Ÿç”¨çš„ãªå˜èªåˆ†å‰²ãƒ»è§£æãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚<br><span style="color: #718096; font-size: 14px;">Practical word segmentation and analysis using Kuromoji morphological analyzer (with IPAdic dictionary).</span></p>';
                statusBox.classList.remove('hidden');
            }
        });
        
        var fileUploadElement = document.getElementById('file-upload');
        var lexiconFileInput = document.getElementById('lexicon-file');
        var lexiconStatsElement = document.getElementById('lexicon-stats');
        var analysisSection = document.getElementById('analysis-section');
        var textInput = document.getElementById('text-input');
        var analyzeBtn = document.getElementById('analyze-btn');
        var resultContainer = document.getElementById('result-container');
        var wordSearch = document.getElementById('word-search');
        var wordList = document.getElementById('word-list');
        var loadSampleBtn = document.getElementById('load-sample-btn');
        var pasteInput = document.getElementById('paste-input');
        var loadPasteBtn = document.getElementById('load-paste-btn');
        var useKuromojiToggle = document.getElementById('use-kuromoji');
        var backwardNegationToggle = document.getElementById('backward-negation');
        
        loadSampleBtn.addEventListener('click', function() {
            parseLexiconFile(SAMPLE_DICTIONARY);
            showNotification('ã‚µãƒ³ãƒ—ãƒ«è¾æ›¸ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ!è©¦ã—ã«åˆ†æã—ã¦ã¿ã¦ãã ã•ã„ã€‚ / Sample dictionary loaded! Try analyzing some text.', 'success');
        });
        
        document.querySelectorAll('[data-load-tab]').forEach(function(tab) {
            tab.addEventListener('click', function() {
                document.querySelectorAll('[data-load-tab]').forEach(function(t) {
                    t.classList.remove('active');
                });
                tab.classList.add('active');
                
                var tabName = tab.dataset.loadTab;
                document.getElementById('file-upload-tab').style.display = tabName === 'file' ? 'block' : 'none';
                document.getElementById('paste-upload-tab').style.display = tabName === 'paste' ? 'block' : 'none';
            });
        });
        
        loadPasteBtn.addEventListener('click', function() {
            var pastedText = pasteInput.value.trim();
            if (!pastedText) {
                showNotification('è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            parseLexiconFile(pastedText);
        });
        
        fileUploadElement.addEventListener('click', function() {
            lexiconFileInput.click();
        });
        
        fileUploadElement.addEventListener('dragover', function(e) {
            e.preventDefault();
            fileUploadElement.style.borderColor = '#667eea';
        });
        
        fileUploadElement.addEventListener('dragleave', function() {
            fileUploadElement.style.borderColor = '#cbd5e0';
        });
        
        fileUploadElement.addEventListener('drop', function(e) {
            e.preventDefault();
            fileUploadElement.style.borderColor = '#cbd5e0';
            if (e.dataTransfer.files.length > 0) {
                handleLexiconFile(e.dataTransfer.files[0]);
            }
        });
        
        lexiconFileInput.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                handleLexiconFile(e.target.files[0]);
            }
        });
        
        function handleLexiconFile(file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                parseLexiconFile(e.target.result);
            };
            reader.readAsText(file, 'UTF-8');
        }
        
        function parseLexiconFile(fileContent) {
            var lines = fileContent.split('\n');
            lexicon = {};
            var errorCount = 0;
            
            for (var i = 0; i < lines.length; i++) {
                var trimmed = lines[i].trim();
                if (trimmed === '') continue;
                
                var parts = trimmed.split('\t');
                if (parts.length < 2) {
                    errorCount++;
                    continue;
                }
                
                var word = parts[0].trim();
                var score = parseFloat(parts[1].trim());
                
                if (!isNaN(score)) {
                    lexicon[word] = { score: score };
                } else {
                    errorCount++;
                }
            }
            
            lexiconStats.totalWords = Object.keys(lexicon).length;
            
            if (lexiconStats.totalWords === 0) {
                showNotification('ã‚¨ãƒ©ãƒ¼: æœ‰åŠ¹ãªè¾æ›¸ã‚¨ãƒ³ãƒˆãƒªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            fileUploadElement.classList.add('loaded');
            fileUploadElement.innerHTML = '<div class="file-upload-icon">âœ…</div><p style="font-size: 18px; font-weight: 600; color: #48bb78;">è¾æ›¸ãƒ­ãƒ¼ãƒ‰å®Œäº†!</p><p style="font-size: 14px; color: #48bb78;">Dictionary Loaded!</p><p style="color: #718096;">' + lexiconStats.totalWords.toLocaleString() + ' å˜èªã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ<br><span style="font-size: 13px;">' + lexiconStats.totalWords.toLocaleString() + ' words loaded</span></p>';
            
            displayLexiconStats();
            analysisSection.classList.remove('hidden');
            displayWordList();
            
            var msg = 'âœ¨ ' + lexiconStats.totalWords.toLocaleString() + ' å˜èªã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ! / ' + lexiconStats.totalWords.toLocaleString() + ' words loaded!';
            if (errorCount > 0) {
                msg += ' (' + errorCount + 'è¡Œã‚’ã‚¹ã‚­ãƒƒãƒ— / ' + errorCount + ' lines skipped)';
            }
            showNotification(msg, 'success');
        }
        
        function displayLexiconStats() {
            lexiconStatsElement.classList.remove('hidden');
            
            var positiveCount = 0;
            var negativeCount = 0;
            var neutralCount = 0;
            
            for (var word in lexicon) {
                var score = lexicon[word].score;
                if (score > 0) positiveCount++;
                else if (score < 0) negativeCount++;
                else neutralCount++;
            }
            
            lexiconStatsElement.innerHTML = '<div class="stat-card"><h3>ç·å˜èªæ•°<br><span style="font-size: 11px; font-weight: normal; color: #a0aec0;">Total Words</span></h3><div class="stat-value">' + lexiconStats.totalWords.toLocaleString() + '</div></div><div class="stat-card"><h3>ãƒã‚¸ãƒ†ã‚£ãƒ–<br><span style="font-size: 11px; font-weight: normal; color: #a0aec0;">Positive</span></h3><div class="stat-value" style="color: #48bb78;">' + positiveCount.toLocaleString() + '</div></div><div class="stat-card"><h3>ãƒã‚¬ãƒ†ã‚£ãƒ–<br><span style="font-size: 11px; font-weight: normal; color: #a0aec0;">Negative</span></h3><div class="stat-value" style="color: #fc8181;">' + negativeCount.toLocaleString() + '</div></div><div class="stat-card"><h3>ä¸­ç«‹<br><span style="font-size: 11px; font-weight: normal; color: #a0aec0;">Neutral</span></h3><div class="stat-value" style="color: #718096;">' + neutralCount.toLocaleString() + '</div></div>';
        }
        
        function displayWordList(searchTerm) {
            if (typeof searchTerm === 'undefined') searchTerm = '';
            
            var words = Object.keys(lexicon).filter(function(word) {
                return searchTerm === '' || word.includes(searchTerm);
            }).sort();
            
            var html = '';
            var maxDisplay = 500;
            var displayWords = words.slice(0, maxDisplay);
            
            for (var i = 0; i < displayWords.length; i++) {
                var word = displayWords[i];
                var score = lexicon[word].score;
                var color = score > 0 ? '#48bb78' : (score < 0 ? '#fc8181' : '#718096');
                html += '<div class="word-item"><span><strong>' + word + '</strong></span><span class="score-badge" style="background-color: ' + color + ';">' + (score > 0 ? '+' : '') + score.toFixed(2) + '</span></div>';
            }
            
            if (words.length > maxDisplay) {
                html += '<div class="word-item" style="color: #718096; justify-content: center;">ä»– ' + (words.length - maxDisplay) + ' å˜èª...</div>';
            }
            
            wordList.innerHTML = html || '<div class="word-item" style="justify-content: center; color: #718096;">è©²å½“ã™ã‚‹å˜èªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>';
        }
        
        wordSearch.addEventListener('input', function(e) {
            displayWordList(e.target.value.trim());
        });
        
        analyzeBtn.addEventListener('click', function() {
            var text = textInput.value.trim();
            if (!text) {
                showNotification('åˆ†æã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            if (Object.keys(lexicon).length === 0) {
                showNotification('ã¾ãšè¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            var result = analyzeText(text);
            displayResult(result, text);
        });
        
        function splitIntoSentences(text) {
            var sentences = text.split(/([ã€‚!?!?]+)/).filter(function(s) {
                return s.trim() !== '';
            });
            var result = [];
            
            for (var i = 0; i < sentences.length; i++) {
                if (/[ã€‚!?!?]+/.test(sentences[i])) {
                    if (result.length > 0) {
                        result[result.length - 1] += sentences[i];
                    }
                } else {
                    result.push(sentences[i]);
                }
            }
            
            return result.filter(function(s) {
                return s.trim() !== '';
            });
        }
        
        function tokenizeWithKuromoji(text) {
            if (!tokenizer) return tokenizeSimple(text);
            
            var tokens = tokenizer.tokenize(text);
            return tokens.map(function(token) {
                return {
                    word: token.basic_form || token.surface_form,
                    surface: token.surface_form
                };
            });
        }
        
        function tokenizeSimple(text) {
            var tokens = [];
            
            function getCharType(char) {
                if (/[\u3040-\u309F]/.test(char)) return 'hiragana';
                if (/[\u30A0-\u30FF]/.test(char)) return 'katakana';
                if (/[\u4E00-\u9FAF]/.test(char)) return 'kanji';
                if (/[a-zA-Z0-9]/.test(char)) return 'alphanumeric';
                return 'other';
            }
            
            var currentToken = '';
            var currentType = null;
            
            for (var i = 0; i < text.length; i++) {
                var char = text[i];
                var charType = getCharType(char);
                
                if (charType === 'other') {
                    if (currentToken) {
                        tokens.push({ word: currentToken, surface: currentToken });
                        currentToken = '';
                        currentType = null;
                    }
                    continue;
                }
                
                if (currentType === null || (currentType !== charType && !(currentType === 'kanji' && charType === 'hiragana'))) {
                    if (currentToken) {
                        tokens.push({ word: currentToken, surface: currentToken });
                    }
                    currentToken = char;
                    currentType = charType;
                } else {
                    currentToken += char;
                }
            }
            
            if (currentToken) {
                tokens.push({ word: currentToken, surface: currentToken });
            }
            
            return tokens;
        }
        
        function analyzeSingleSentence(text, useKuromoji, useBackwardNegation) {
            var tokens = useKuromoji ? tokenizeWithKuromoji(text) : tokenizeSimple(text);
            
            var emotionWordIndices = [];
            var matchedWords = [];
            var totalScore = 0;
            var matchCount = 0;
            var positiveCount = 0;
            var negativeCount = 0;
            var processedIndices = new Set();
            
            // First pass: identify all emotion words and their positions
            for (var i = 0; i < tokens.length; i++) {
                var token = tokens[i];
                var word = token.word;
                var surface = token.surface;
                
                if (lexicon[word]) {
                    emotionWordIndices.push({ index: i, word: word, surface: surface });
                } else if (!useKuromoji) {
                    // Try partial matching for simple tokenizer
                    for (var len = word.length - 1; len >= 2; len--) {
                        var baseWord = word.substring(0, len);
                        if (lexicon[baseWord]) {
                            emotionWordIndices.push({ index: i, word: baseWord, surface: surface });
                            break;
                        }
                    }
                }
            }
            
            // Create a set of emotion word indices for quick lookup
            var emotionIndicesSet = new Set();
            for (var i = 0; i < emotionWordIndices.length; i++) {
                emotionIndicesSet.add(emotionWordIndices[i].index);
            }
            
            // Second pass: identify all negations and special negative patterns
            var negationIndices = [];
            var potentialNegations = []; // Store potential negation patterns with type
            
            for (var i = 0; i < tokens.length; i++) {
                var word = tokens[i].word;
                var surface = tokens[i].surface;
                
                // Check both basic form (word) and surface form
                if (NEGATION_WORDS.indexOf(word) !== -1 || NEGATION_WORDS.indexOf(surface) !== -1) {
                    negationIndices.push(i);
                    potentialNegations.push({ index: i, type: 'standard', range: 8 });
                } else if (/ãªã„$/.test(surface) || /ã¾ã›ã‚“$/.test(surface) || /ã¬$/.test(surface)) {
                    // Also catch any surface form ending in negation patterns
                    negationIndices.push(i);
                    
                    // Special handling for potential verb negations like ã§ããªã„, ã‚‰ã‚Œãªã„
                    if (/^(ã§ã|ã‚‰ã‚Œ|ã¿|ãˆ)/.test(surface)) {
                        potentialNegations.push({ index: i, type: 'potential', range: 6 });
                    } else {
                        potentialNegations.push({ index: i, type: 'standard', range: 8 });
                    }
                }
                
                // Special case: Check for "ã§ã" followed by "ãªã„" in next token
                if (i + 1 < tokens.length && 
                    (word === 'ã§ã' || surface === 'ã§ã') && 
                    (/ãªã„/.test(tokens[i + 1].surface) || tokens[i + 1].word === 'ãªã„')) {
                    if (negationIndices.indexOf(i + 1) === -1) {
                        negationIndices.push(i + 1);
                        potentialNegations.push({ index: i + 1, type: 'potential', range: 6 });
                    }
                }
            }
            
            // Third pass: process emotion words with negation context
            for (var i = 0; i < emotionWordIndices.length; i++) {
                var emotionData = emotionWordIndices[i];
                var idx = emotionData.index;
                
                if (processedIndices.has(idx)) continue;
                
                var score = lexicon[emotionData.word].score;
                var isNegated = false;
                var relatedNegationIndex = -1;
                
                if (useBackwardNegation) {
                    // Check each potential negation
                    for (var n = 0; n < potentialNegations.length; n++) {
                        var negation = potentialNegations[n];
                        var negIdx = negation.index;
                        var searchRange = negation.range;
                        
                        // Check if this negation is within range AFTER this emotion word
                        if (negIdx > idx && negIdx - idx <= searchRange) {
                            var validPath = true;
                            var hasParallelPattern = false;
                            
                            // For potential negations (ã§ããªã„, ã‚‰ã‚Œãªã„), be more lenient
                            if (negation.type === 'potential') {
                                // Check path between emotion word and negation
                                for (var between = idx + 1; between < negIdx; between++) {
                                    var betweenWord = tokens[between].word;
                                    var betweenSurface = tokens[between].surface;
                                    
                                    // Check if this is a parallel particle
                                    if (PARALLEL_PARTICLES.indexOf(betweenWord) !== -1 || NEGATION_PARTICLES.indexOf(betweenWord) !== -1) {
                                        hasParallelPattern = true;
                                        continue;
                                    }
                                    
                                    // Allow emotion words in between (for parallel negation)
                                    if (emotionIndicesSet.has(between)) {
                                        continue;
                                    }
                                    
                                    // For potential negations, be very lenient - allow almost anything except strong breaks
                                    if (!/^(ã¯|ãŒ|ã‚’|ã«|ã§|ã¨|ã‚‚|ã‚„|ã®|ã¸|ã‹ã‚‰|ã¾ã§|ã‚ˆã‚Š|ãã¯|ã§ã¯|ã˜ã‚ƒ|ã§ã|ã|ã‚‰ã‚Œ|ã‚Œ|ã›|ã•|ã—|ã|ã¦|ãŸ|ã |ã§ã™|ã¾ã™|ãŸã„|ãŸã|ã‚ˆã†|ãš|ã°|ãªã‚‰)$/.test(betweenWord) &&
                                        !/^(ã¯|ãŒ|ã‚’|ã«|ã§|ã¨|ã‚‚|ã‚„|ã®|ã¸|ã‹ã‚‰|ã¾ã§|ã‚ˆã‚Š|ãã¯|ã§ã¯|ã˜ã‚ƒ|ã§ã|ã|ã‚‰ã‚Œ|ã‚Œ|ã›|ã•|ã—|ã|ã¦|ãŸ|ã |ã§ã™|ã¾ã™|ãŸã„|ãŸã|ã‚ˆã†|ãš|ã°|ãªã‚‰)$/.test(betweenSurface)) {
                                        validPath = false;
                                        break;
                                    }
                                }
                            } else {
                                // Standard negation - use stricter rules
                                for (var between = idx + 1; between < negIdx; between++) {
                                    var betweenWord = tokens[between].word;
                                    
                                    // Check if this is a parallel particle
                                    if (PARALLEL_PARTICLES.indexOf(betweenWord) !== -1 || NEGATION_PARTICLES.indexOf(betweenWord) !== -1) {
                                        hasParallelPattern = true;
                                        continue;
                                    }
                                    
                                    // Allow emotion words in between (for parallel negation)
                                    if (emotionIndicesSet.has(between)) {
                                        continue;
                                    }
                                    
                                    // Allow particles, auxiliaries, and common verb components
                                    if (!/^(ã¯|ãŒ|ã‚’|ã«|ã§|ã¨|ã‚‚|ã‚„|ã®|ã¸|ã‹ã‚‰|ã¾ã§|ã‚ˆã‚Š|ãã¯|ã§ã¯|ã˜ã‚ƒ|ã§ã|ã|ã‚‰ã‚Œ|ã‚Œ|ã›|ã•|ã—|ã|ã¦|ãŸ|ã |ã§ã™|ã¾ã™|ãŸã„|ãŸã|ã‚ˆã†)$/.test(betweenWord)) {
                                        validPath = false;
                                        break;
                                    }
                                }
                            }
                            
                            if (validPath) {
                                isNegated = true;
                                relatedNegationIndex = negIdx;
                                break;
                            }
                        }
                    }
                }
                
                if (isNegated) {
                    score = -score;
                    matchedWords.push({ word: emotionData.word, surface: emotionData.surface, type: 'negated', score: score });
                } else {
                    matchedWords.push({ word: emotionData.word, surface: emotionData.surface, type: 'normal', score: score });
                }
                
                totalScore += score;
                matchCount++;
                if (score > 0) positiveCount++;
                else if (score < 0) negativeCount++;
                processedIndices.add(idx);
            }
            
            // Add negation words to matched words for display
            for (var i = 0; i < negationIndices.length; i++) {
                var negIdx = negationIndices[i];
                matchedWords.push({ 
                    word: tokens[negIdx].word, 
                    surface: tokens[negIdx].surface, 
                    type: 'negation', 
                    score: 0 
                });
            }
            
            var averageScore = matchCount > 0 ? totalScore / matchCount : 0;
            
            return {
                score: averageScore,
                totalScore: totalScore,
                matchCount: matchCount,
                positiveCount: positiveCount,
                negativeCount: negativeCount,
                matchedWords: matchedWords
            };
        }
        
        function findParallelNegation(tokens, negationIndex, emotionWordIndices, processedIndices) {
            var negatedWords = [];
            var searchStart = Math.max(0, negationIndex - 15); // Extended search range
            
            // Work backwards from the negation word
            for (var i = negationIndex - 1; i >= searchStart; i--) {
                var token = tokens[i];
                var word = token.word;
                
                // Check if this position has an emotion word
                var isEmotionWord = false;
                var emotionWordData = null;
                for (var j = 0; j < emotionWordIndices.length; j++) {
                    if (emotionWordIndices[j].index === i && !processedIndices.has(i)) {
                        isEmotionWord = true;
                        emotionWordData = emotionWordIndices[j];
                        break;
                    }
                }
                
                if (isEmotionWord) {
                    // Check if there's a parallel particle or negation particle after this emotion word
                    var hasRelevantParticle = false;
                    if (i + 1 < negationIndex) {
                        var nextWord = tokens[i + 1].word;
                        if (PARALLEL_PARTICLES.indexOf(nextWord) !== -1 || NEGATION_PARTICLES.indexOf(nextWord) !== -1) {
                            hasRelevantParticle = true;
                        }
                    }
                    
                    // Add this emotion word if:
                    // 1. It has a relevant particle after it, OR
                    // 2. We've already found other emotion words (continuing the parallel pattern)
                    if (hasRelevantParticle || negatedWords.length > 0) {
                        negatedWords.push(emotionWordData);
                    } else {
                        // If this emotion word doesn't have a parallel particle and no other words found,
                        // it might still be negated if it's close enough (within 3 tokens)
                        if (negationIndex - i <= 3) {
                            // Check if there's only particles/auxiliaries between
                            var onlyParticlesBetween = true;
                            for (var between = i + 1; between < negationIndex; between++) {
                                var betweenWord = tokens[between].word;
                                if (!/^(ã¯|ãŒ|ã‚’|ã«|ã§|ã¨|ã‚‚|ã‚„|ã®|ã¸|ã‹ã‚‰|ã¾ã§|ã‚ˆã‚Š|ãã¯|ã§ã¯|ã˜ã‚ƒ|ã§ã|ã‚‰ã‚Œ|ã›|ã—)$/.test(betweenWord)) {
                                    onlyParticlesBetween = false;
                                    break;
                                }
                            }
                            if (onlyParticlesBetween) {
                                negatedWords.push(emotionWordData);
                            }
                        }
                        // Stop searching backward if we found an emotion word without parallel pattern
                        break;
                    }
                } else {
                    // If we encounter a non-emotion, non-particle word and have already found emotion words, stop
                    if (PARALLEL_PARTICLES.indexOf(word) === -1 && 
                        NEGATION_PARTICLES.indexOf(word) === -1 && 
                        !/^(ã§ã|ã‚‰ã‚Œ|ã›|ã—|ã)$/.test(word)) {
                        if (negatedWords.length > 0) {
                            break;
                        }
                    }
                }
            }
            
            return negatedWords;
        }
        
        function analyzeText(text) {
            var useKuromoji = useKuromojiToggle.checked && tokenizerReady;
            var useBackwardNegation = backwardNegationToggle.checked;
            
            var sentences = splitIntoSentences(text);
            var sentenceResults = [];
            
            var overallTotalScore = 0;
            var overallMatchCount = 0;
            var overallPositiveCount = 0;
            var overallNegativeCount = 0;
            var allMatchedWords = [];
            
            for (var i = 0; i < sentences.length; i++) {
                var sentence = sentences[i];
                var result = analyzeSingleSentence(sentence, useKuromoji, useBackwardNegation);
                sentenceResults.push({
                    text: sentence,
                    score: result.score,
                    totalScore: result.totalScore,
                    matchCount: result.matchCount,
                    positiveCount: result.positiveCount,
                    negativeCount: result.negativeCount,
                    matchedWords: result.matchedWords
                });
                
                overallTotalScore += result.totalScore;
                overallMatchCount += result.matchCount;
                overallPositiveCount += result.positiveCount;
                overallNegativeCount += result.negativeCount;
                allMatchedWords = allMatchedWords.concat(result.matchedWords);
            }
            
            var overallScore = overallMatchCount > 0 ? overallTotalScore / overallMatchCount : 0;
            
            return {
                score: overallScore,
                totalScore: overallTotalScore,
                matchCount: overallMatchCount,
                positiveCount: overallPositiveCount,
                negativeCount: overallNegativeCount,
                matchedWords: allMatchedWords,
                method: useKuromoji ? 'Kuromoji' : 'Simple',
                backwardNegation: useBackwardNegation,
                sentences: sentenceResults
            };
        }
        
        function displayResult(result, originalText) {
            resultContainer.classList.remove('hidden');
            
            var score = result.score;
            var label = getSentimentLabel(score);
            var meterPosition = ((score + 1) / 2) * 100;
            var meterColor = score > 0.05 ? '#48bb78' : (score < -0.05 ? '#fc8181' : '#718096');
            
            var highlightedText = highlightWords(originalText, result.matchedWords);
            
            var analyzeArray = result.sentences.map(function(s) {
                return s.score;
            });
            var countPolarityArray = result.sentences.map(function(s) {
                return {
                    positive: s.positiveCount,
                    negative: s.negativeCount
                };
            });
            var analyzeDetailArray = result.sentences.map(function(s) {
                return {
                    positive: s.matchedWords.filter(function(w) {
                        return w.type !== 'negation' && w.score > 0;
                    }).map(function(w) {
                        return w.type === 'negated' ? w.word + '-NEGATION' : w.word;
                    }),
                    negative: s.matchedWords.filter(function(w) {
                        return w.type !== 'negation' && w.score < 0;
                    }).map(function(w) {
                        return w.type === 'negated' ? w.word + '-NEGATION' : w.word;
                    }),
                    score: s.score
                };
            });
            
            var researchOutputHtml = '';
            if (result.sentences.length > 0) {
                var methodNote = result.backwardNegation ? 
                    '<div style="color: #fbbf24; margin-bottom: 10px; font-size: 12px;">âš ï¸ å¾Œæ–¹å¦å®šãƒ»ä¸¦åˆ—å¦å®šæ¤œå‡º(æ‹¡å¼µæ©Ÿèƒ½)ã‚’ä½¿ç”¨</div>' : 
                    '<div style="color: #48bb78; margin-bottom: 10px; font-size: 12px;">âœ“ å…ƒã®osetiã¨åŒã˜å‰æ–¹å¦å®šã®ã¿</div>';
                
                researchOutputHtml = '<h3>ğŸ”¬ ç ”ç©¶ç”¨ãƒ‡ãƒ¼ã‚¿å‡ºåŠ› (Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªäº’æ›å½¢å¼):</h3><div style="background-color: #2d3748; color: #e2e8f0; border-radius: 8px; padding: 20px; margin-top: 15px; font-family: \'Courier New\', monospace; font-size: 14px;">' + methodNote + '<div style="margin-bottom: 15px;"><div style="color: #a0aec0; margin-bottom: 5px;"># analyzer.analyze() å½¢å¼:</div><div style="color: #48bb78;">[' + analyzeArray.map(function(s) { return s.toFixed(10); }).join(', ') + ']</div></div><div style="margin-bottom: 15px;"><div style="color: #a0aec0; margin-bottom: 5px;"># analyzer.count_polarity() å½¢å¼:</div><div style="color: #48bb78;">' + JSON.stringify(countPolarityArray, null, 2) + '</div></div><div><div style="color: #a0aec0; margin-bottom: 5px;"># analyzer.analyze_detail() å½¢å¼:</div><div style="color: #48bb78;">' + JSON.stringify(analyzeDetailArray, null, 2) + '</div></div><button onclick="copyResearchData()" style="margin-top: 15px; background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); padding: 8px 16px; font-size: 13px;">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button></div>';
            }
            
            var sentenceAnalysisHtml = '';
            if (result.sentences && result.sentences.length > 1) {
                var methodLabel = result.method + (result.backwardNegation ? ' + å¾Œæ–¹ãƒ»ä¸¦åˆ—å¦å®š' : '');
                sentenceAnalysisHtml = '<h3>ğŸ“ æ–‡ã”ã¨ã®åˆ†æçµæœ (' + methodLabel + 'åˆ†æ):</h3><div style="background-color: #f8fafc; border-radius: 8px; padding: 20px; margin-top: 15px;">';
                
                for (var i = 0; i < result.sentences.length; i++) {
                    var sent = result.sentences[i];
                    var sentScore = sent.score;
                    var sentLabel = getSentimentLabel(sentScore);
                    var sentColor = sentScore > 0.05 ? '#48bb78' : (sentScore < -0.05 ? '#fc8181' : '#718096');
                    var sentHighlighted = highlightWords(sent.text, sent.matchedWords);
                    
                    sentenceAnalysisHtml += '<div class="sentence-box"><div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"><span style="font-weight: 600; color: #4a5568;">ç¬¬' + (i + 1) + 'æ–‡:</span><div style="display: flex; align-items: center; gap: 10px;"><span style="font-size: 12px; padding: 4px 10px; border-radius: 12px; background-color: ' + sentColor + '20; color: ' + sentColor + '; font-weight: 600;">' + sentLabel + '</span><span style="font-size: 20px; font-weight: bold; color: ' + sentColor + ';">' + sentScore.toFixed(3) + '</span></div></div><div style="line-height: 1.8; font-size: 16px; margin-bottom: 10px;">' + sentHighlighted + '</div><div style="display: flex; gap: 15px; font-size: 13px; color: #718096;"><span>æ¤œå‡º: ' + sent.matchCount + 'èª</span><span style="color: #48bb78;">ãƒã‚¸: ' + sent.positiveCount + '</span><span style="color: #fc8181;">ãƒã‚¬: ' + sent.negativeCount + '</span></div></div>';
                }
                
                sentenceAnalysisHtml += '</div>';
            }
            
            var detectedWordsHtml = '';
            if (result.matchedWords.length > 0) {
                detectedWordsHtml = '<h3>æ¤œå‡ºã•ã‚ŒãŸæ„Ÿæƒ…èª (å…¨ä½“):</h3><div class="word-list" style="max-height: 300px;">';
                for (var i = 0; i < result.matchedWords.length; i++) {
                    var item = result.matchedWords[i];
                    if (item.type === 'negation') {
                        detectedWordsHtml += '<div class="word-item"><span><strong>' + item.word + '</strong> <span style="color: #718096; font-size: 13px;">(' + item.surface + ')</span></span><span class="score-badge" style="background-color: #fbbf24;">å¦å®šèª</span></div>';
                    } else {
                        var color = item.score > 0 ? '#48bb78' : '#fc8181';
                        detectedWordsHtml += '<div class="word-item"><span><strong>' + item.word + '</strong> <span style="color: #718096; font-size: 13px;">(' + item.surface + ')</span></span><span class="score-badge" style="background-color: ' + color + ';">' + (item.score > 0 ? '+' : '') + item.score.toFixed(2) + (item.type === 'negated' ? ' (å¦å®š)' : '') + '</span></div>';
                    }
                }
                detectedWordsHtml += '</div>';
            } else {
                detectedWordsHtml = '<p style="color: #718096; text-align: center; padding: 20px;">è¾æ›¸ã«ç™»éŒ²ã•ã‚ŒãŸæ„Ÿæƒ…èªãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>';
            }
            
            resultContainer.innerHTML = '<h2 style="text-align: center; margin-bottom: 30px;">ğŸ“Š åˆ†æçµæœ<br><span style="font-size: 18px; font-weight: normal; color: #718096;">Analysis Results</span></h2><div style="text-align: center; margin-bottom: 20px;"><span style="font-size: 14px; color: #718096; display: block; margin-bottom: 5px;">å…¨ä½“ã®æ„Ÿæƒ…ã‚¹ã‚³ã‚¢<br><span style="font-size: 12px;">Overall Sentiment Score</span></span><span class="sentiment-label" style="background-color: ' + meterColor + ';">' + label + '</span><div style="font-size: 48px; font-weight: bold; color: ' + meterColor + '; margin-top: 15px;">' + score.toFixed(3) + '</div></div><div class="sentiment-meter"><div class="sentiment-indicator" style="left: ' + meterPosition + '%;"></div></div><div class="sentiment-scale"><span style="color: #fc8181;">ãƒã‚¬ãƒ†ã‚£ãƒ– (-1.0)</span><span style="color: #718096;">ä¸­ç«‹ (0.0)</span><span style="color: #48bb78;">ãƒã‚¸ãƒ†ã‚£ãƒ– (1.0)</span></div><div class="stats-grid"><div class="stat-box"><p>æ¤œå‡ºå˜èªæ•°<br><span style="font-size: 11px; color: #a0aec0;">Detected</span></p><p style="color: #667eea;">' + result.matchCount + '</p></div><div class="stat-box"><p>ãƒã‚¸ãƒ†ã‚£ãƒ–<br><span style="font-size: 11px; color: #a0aec0;">Positive</span></p><p style="color: #48bb78;">' + result.positiveCount + '</p></div><div class="stat-box"><p>ãƒã‚¬ãƒ†ã‚£ãƒ–<br><span style="font-size: 11px; color: #a0aec0;">Negative</span></p><p style="color: #fc8181;">' + result.negativeCount + '</p></div><div class="stat-box"><p>åˆè¨ˆã‚¹ã‚³ã‚¢<br><span style="font-size: 11px; color: #a0aec0;">Total Score</span></p><p style="color: #667eea;">' + (result.totalScore > 0 ? '+' : '') + result.totalScore.toFixed(2) + '</p></div></div>' + researchOutputHtml + sentenceAnalysisHtml + '<h3>ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ:</h3><div class="highlight-container">' + highlightedText + '</div>' + detectedWordsHtml;
            
            window.copyResearchData = function() {
                var text = '# analyzer.analyze() å½¢å¼:\n[' + analyzeArray.map(function(s) { return s.toFixed(10); }).join(', ') + ']\n\n# analyzer.count_polarity() å½¢å¼:\n' + JSON.stringify(countPolarityArray, null, 2) + '\n\n# analyzer.analyze_detail() å½¢å¼:\n' + JSON.stringify(analyzeDetailArray, null, 2);
                
                navigator.clipboard.writeText(text).then(function() {
                    showNotification('ç ”ç©¶ç”¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!', 'success');
                });
            };
            
            resultContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function getSentimentLabel(score) {
            if (score >= 0.5) return 'ğŸ˜„ å¼·ã„ãƒã‚¸ãƒ†ã‚£ãƒ–';
            if (score >= 0.05) return 'ğŸ™‚ å¼±ã„ãƒã‚¸ãƒ†ã‚£ãƒ–';
            if (score > -0.05) return 'ğŸ˜ ä¸­ç«‹';
            if (score > -0.5) return 'ğŸ™ å¼±ã„ãƒã‚¬ãƒ†ã‚£ãƒ–';
            return 'ğŸ˜¢ å¼·ã„ãƒã‚¬ãƒ†ã‚£ãƒ–';
        }
        
        function highlightWords(text, matchedWords) {
            var highlightedText = text;
            
            var sortedWords = matchedWords.slice().sort(function(a, b) {
                return b.surface.length - a.surface.length;
            });
            
            for (var i = 0; i < sortedWords.length; i++) {
                var item = sortedWords[i];
                if (item.type === 'negation') {
                    var regex = new RegExp(escapeRegex(item.surface), 'g');
                    highlightedText = highlightedText.replace(regex, '<span class="highlight-word" style="background-color: #fbbf24; color: white;">' + item.surface + '</span>');
                } else {
                    var color = item.score > 0 ? '#48bb78' : '#fc8181';
                    var regex2 = new RegExp(escapeRegex(item.surface), 'g');
                    highlightedText = highlightedText.replace(regex2, '<span class="highlight-word" style="background-color: ' + color + '; color: white;" title="åŸºæœ¬å½¢: ' + item.word + ' | ã‚¹ã‚³ã‚¢: ' + item.score.toFixed(2) + '">' + item.surface + '</span>');
                }
            }
            
            return highlightedText;
        }
        
        function escapeRegex(str) {
            return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }
        
        function showNotification(message, type) {
            var existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(function(n) {
                n.remove();
            });
            
            var notification = document.createElement('div');
            notification.className = 'notification ' + type;
            notification.textContent = message;
            
            var container = document.querySelector('.container');
            container.insertBefore(notification, container.firstChild);
            
            setTimeout(function() {
                notification.remove();
            }, 5000);
        }
        
        document.querySelectorAll('.tab[data-tab]').forEach(function(tab) {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.tab[data-tab]').forEach(function(t) {
                    t.classList.remove('active');
                });
                tab.classList.add('active');
                
                var tabName = tab.dataset.tab;
                document.querySelectorAll('.tab-content').forEach(function(content) {
                    content.classList.remove('active');
                });
                document.getElementById(tabName + '-tab').classList.add('active');
            });
        });
        
        document.querySelectorAll('.sample-btn').forEach(function(button) {
            button.addEventListener('click', function() {
                textInput.value = button.textContent;
                analyzeBtn.click();
            });
        });
        
        function toggleCredits() {
            var content = document.getElementById('credit-content');
            var arrow = document.getElementById('credit-arrow');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                setTimeout(function() {
                    content.classList.add('show');
                }, 10);
                arrow.style.transform = 'rotate(180deg)';
            } else {
                content.classList.remove('show');
                setTimeout(function() {
                    content.classList.add('hidden');
                }, 300);
                arrow.style.transform = 'rotate(0deg)';
            }
        }
    </script>
</body>
</html>